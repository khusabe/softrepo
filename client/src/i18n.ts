export type Locale = 'ru' | 'uz'

const ru = {
	title: 'Каталог ПО',
	search: 'Поиск...',
	sortBy: 'Сортировка',
	byDate: 'По дате',
	byDownloads: 'По скачиваниям',
	byTitle: 'По названию',
	orderAsc: 'Возр.',
	orderDesc: 'Убыв.',
	speedTest: 'Speed Test',
	login: 'Войти',
	admin: 'Админ-панель',
	open: 'Открыть',
	category: 'Категория',
	download: 'Скачать',
	uploaded: 'Загружено',
	loading: 'Загрузка.../',
	ping: 'Пинг',
	downloadSpeed: 'Скачивание',
	uploadSpeed: 'Загрузка',
	measuring: 'Идёт измерение…',
	yourIp: 'Ваш IP',
	startTest: 'Начать тест',
	backHome: 'На главную',
	ms: 'мс',
	mbps: 'Мбит/с',
	mb: 'МБ',
	loginTitle: 'Вход',
	loginUser: 'Логин',
	loginPass: 'Пароль',
	loginBtn: 'Войти',
	adminTitle: 'Админ-панель',
	categoriesTitle: 'Категории',
	name: 'Название',
	description: 'Описание',
	add: 'Добавить',
	uploadTitle: 'Загрузка ПО',
	version: 'Версия',
	selectCategory: 'Категория',
	file: 'Файл',
	uploadBtn: 'Загрузить',
	delete: 'Удалить',
	downloads: 'Скачиваний',
	signOut: 'Выйти',
	files: 'Файлы',
	id: 'ID',
	versionCol: 'Версия',
	categoryCol: 'Категория',
	downloadsCol: 'Скачиваний',
	addCategorySuccess: 'Категория добавлена',
	deleteCategoryConfirm: 'Удалить категорию и все её файлы?',
	deleteCategorySuccess: 'Категория удалена',
	uploadNeedSelect: 'Выберите файл и категорию',
	fileUploadedSuccess: 'Файл загружен',
	deleteFileConfirm: 'Удалить файл?',
	deleteFileSuccess: 'Файл удалён',
	categoryTitle: 'Категория',
}

const uz = {
	title: 'Dastur katalogi',
	search: 'Qidiruv...',
	sortBy: 'Saralash',
	byDate: 'Sana bo‘yicha',
	byDownloads: 'Yuklab olishlar bo‘yicha',
	byTitle: 'Nomi bo‘yicha',
	orderAsc: 'O‘sish',
	orderDesc: 'Kamayish',
	speedTest: 'Speed Test',
	login: 'Kirish',
	admin: 'Admin paneli',
	open: 'Ochish',
	category: 'Turkum',
	download: 'Yuklab olish',
	uploaded: 'Yuklandi',
	loading: 'Yuklanmoqda.../',
	ping: 'Ping',
	downloadSpeed: 'Yuklab olish',
	uploadSpeed: 'Yuklash',
	measuring: 'O‘lchov davom etmoqda…',
	yourIp: 'Sizning IP',
	startTest: 'Testni boshlash',
	backHome: 'Bosh sahifa',
	ms: 'ms',
	mbps: 'Mbit/s',
	mb: 'MB',
	loginTitle: 'Kirish',
	loginUser: 'Login',
	loginPass: 'Parol',
	loginBtn: 'Kirish',
	adminTitle: 'Admin paneli',
	categoriesTitle: 'Turkumlar',
	name: 'Nomi',
	description: 'Tavsif',
	add: 'Qo‘shish',
	uploadTitle: 'Dastur yuklash',
	version: 'Versiya',
	selectCategory: 'Turkum',
	file: 'Fayl',
	uploadBtn: 'Yuklash',
	delete: 'O‘chirish',
	downloads: 'Yuklab olishlar',
	signOut: 'Chiqish',
	files: 'Fayllar',
	id: 'ID',
	versionCol: 'Versiya',
	categoryCol: 'Turkum',
	downloadsCol: 'Yuklab olishlar',
	addCategorySuccess: 'Turkum qo‘shildi',
	deleteCategoryConfirm: 'Turkum va barcha fayllarni o‘chirishmi?',
	deleteCategorySuccess: 'Turkum o‘chirildi',
	uploadNeedSelect: 'Fayl va turkumni tanlang',
	fileUploadedSuccess: 'Fayl yuklandi',
	deleteFileConfirm: 'Faylni o‘chirishmi?',
	deleteFileSuccess: 'Fayl o‘chirildi',
	categoryTitle: 'Turkum',
}

const dict: Record<Locale, typeof ru> = { ru, uz }

const KEY = 'locale'
let current: Locale = (localStorage.getItem(KEY) as Locale) || 'ru'

export function t<K extends keyof typeof ru>(key: K): string {
	return (dict[current][key] as string) || String(key)
}

export function getLocale(): Locale { return current }
export function setLocale(l: Locale) { current = l; localStorage.setItem(KEY, l); location.reload() }
